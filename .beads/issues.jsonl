{"id":"arcana-0dj","title":"LiveView mount() performs database queries","description":"dashboard_live.ex:13-52 calls load_collections(), load_documents(), load_source_ids(), load_stats(), load_evaluation_data() in mount/3. Mount is called twice (HTTP and WebSocket) causing duplicate queries. Move to handle_params/3.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T14:42:34.644506-03:00","updated_at":"2026-01-01T16:10:58.900705-03:00","closed_at":"2026-01-01T16:10:58.900705-03:00","close_reason":"Closed"}
{"id":"arcana-0o3","title":"Add ChromaDB vector store backend","description":"Add ChromaDB as a vector store backend option for Arcana.\n\nChromaDB is an open-source embedding database that's popular for local development and self-hosted deployments.\n\nImplementation:\n1. Create Arcana.VectorStore.ChromaDB implementing the VectorStore behaviour\n2. Support collection management\n3. Handle metadata filtering\n4. Support local and remote ChromaDB instances\n\nConfiguration:\n  config :arcana, vector_store: {:chroma, host: \"localhost\", port: 8000}\n\nThis provides an alternative to pgvector for users who prefer ChromaDB's ecosystem.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-28T09:40:38.123404-03:00","updated_at":"2025-12-28T09:40:38.123404-03:00"}
{"id":"arcana-0s6","title":"Collections: grouping chunks with metadata","description":"Optional arcana_collections table. Chunks can belong to collection. Search can filter by collection. Dashboard shows collections.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-23T20:12:47.682022-03:00","updated_at":"2025-12-27T08:04:33.782997-03:00","closed_at":"2025-12-27T08:04:33.782997-03:00","close_reason":"Implemented collections for grouping documents. Documents belong to a collection (default: 'default'). Search can filter by collection.","dependencies":[{"issue_id":"arcana-0s6","depends_on_id":"arcana-7zx","type":"blocks","created_at":"2025-12-23T20:12:56.488-03:00","created_by":"daemon"}]}
{"id":"arcana-0te","title":"Add regression detection for evaluation runs","description":"Add automatic regression detection when running evaluations. Compare new run against baseline/previous runs and flag significant metric drops. Configure thresholds for alerts (e.g., MRR dropped \u003e5%).","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-28T13:30:26.947242-03:00","updated_at":"2025-12-28T13:30:26.947242-03:00"}
{"id":"arcana-1sz","title":"Add stats/metrics display to dashboard","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T08:23:34.507867-03:00","updated_at":"2025-12-26T08:25:27.313738-03:00","closed_at":"2025-12-26T08:25:27.313738-03:00","close_reason":"Added stats bar showing document and chunk counts with purple gradient"}
{"id":"arcana-1y2","title":"Question decomposition","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T09:35:30.706458-03:00","updated_at":"2025-12-27T09:48:15.767419-03:00","closed_at":"2025-12-27T09:48:15.767419-03:00","close_reason":"Implemented question decomposition with LLM-based splitting","dependencies":[{"issue_id":"arcana-1y2","depends_on_id":"arcana-aid","type":"blocks","created_at":"2025-12-27T09:35:43.53488-03:00","created_by":"daemon"}]}
{"id":"arcana-216","title":"Add pagination to document list and search results","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T08:23:34.109427-03:00","updated_at":"2025-12-26T08:30:14.194095-03:00","closed_at":"2025-12-26T08:30:14.194095-03:00","close_reason":"Added pagination with page controls and 10 docs per page"}
{"id":"arcana-24i","title":"Notion connector","description":"OAuth integration with Notion. Sync pages and databases. Handle nested blocks, rich text. Watch for changes. Part of Arcana Server vision.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-26T00:38:25.216557-03:00","updated_at":"2025-12-26T00:38:25.216557-03:00","dependencies":[{"issue_id":"arcana-24i","depends_on_id":"arcana-z5u","type":"blocks","created_at":"2025-12-26T00:38:32.326192-03:00","created_by":"daemon"}]}
{"id":"arcana-25c","title":"Save Arcana config in evaluation runs","description":"Store the complete Arcana configuration (embedding model, chunk settings, etc.) with each evaluation run. This is critical for understanding which model was used and reproducing results.\n\nShould capture:\n- Embedding model (e.g., BAAI/bge-small-en-v1.5)\n- Embedding dimensions\n- Chunk size and overlap settings\n- Vector store backend\n- Any other relevant config","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T23:29:18.351829-03:00","updated_at":"2025-12-27T23:32:26.960894-03:00","closed_at":"2025-12-27T23:32:26.960894-03:00","close_reason":"Implemented Arcana.config/0 and integrated into Evaluation.run/1"}
{"id":"arcana-2t9","title":"Replace custom chunker with text_chunker library","description":"Replace Arcana's custom Chunker module with the text_chunker hex package. This gives us:\n- Markdown-aware splitting (respects ### headings)\n- Plaintext mode\n- Semantic-aware overlap (won't break mid-sentence)\n- Byte-range metadata for reconstruction\n\nAdd :format option to Arcana.ingest/2 (:plaintext, :markdown)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T01:39:09.300179-03:00","updated_at":"2025-12-26T01:49:42.954147-03:00","closed_at":"2025-12-26T01:49:42.954147-03:00","close_reason":"Implemented with text_chunker library, supports format and size_unit options"}
{"id":"arcana-2tx","title":"RAG pipeline: context building and LLM integration","description":"Arcana.ask/2 - retrieves chunks and builds prompt for LLM. Provider behaviour for OpenAI/Anthropic. Streaming support. Returns answer with sources.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-23T20:12:47.278396-03:00","updated_at":"2025-12-26T08:46:52.321225-03:00","closed_at":"2025-12-26T08:46:52.321225-03:00","close_reason":"Implemented Arcana.ask/2 with configurable LLM adapter, context retrieval from search, and error handling","dependencies":[{"issue_id":"arcana-2tx","depends_on_id":"arcana-6kd","type":"blocks","created_at":"2025-12-23T20:12:56.320727-03:00","created_by":"daemon"}]}
{"id":"arcana-30b","title":"LLM protocol with LangChain integration","description":"Define Arcana.LLM protocol that accepts LangChain chat models directly. Implement for ChatOpenAI, ChatAnthropic, Function. Add app config for defaults.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T10:08:55.357863-03:00","updated_at":"2025-12-26T10:25:57.975917-03:00","closed_at":"2025-12-26T10:25:57.975917-03:00","close_reason":"Implemented Arcana.LLM protocol with support for anonymous functions and LangChain models"}
{"id":"arcana-34p","title":"Add search mode selector to dashboard","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T07:57:41.373423-03:00","updated_at":"2025-12-26T08:01:38.245602-03:00","closed_at":"2025-12-26T08:01:38.245602-03:00","close_reason":"Implemented search mode selector with semantic/fulltext/hybrid options"}
{"id":"arcana-3az","title":"Evaluation run blocks the LiveView process","description":"dashboard_live.ex:177-212 - handle_event(\"eval_run\", ...) calls Evaluation.run(opts) synchronously. For large test case sets, this blocks the LiveView process. Run in a Task like test case generation does.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-28T14:42:35.671855-03:00","updated_at":"2025-12-28T14:42:35.671855-03:00"}
{"id":"arcana-3f5","title":"Add metadata display to document list","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T07:57:41.738174-03:00","updated_at":"2025-12-26T08:08:29.302323-03:00","closed_at":"2025-12-26T08:08:29.302323-03:00","close_reason":"Added Metadata column to document table with key-value display"}
{"id":"arcana-59u","title":"Collection routing","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T09:35:30.916815-03:00","updated_at":"2025-12-27T09:50:52.018908-03:00","closed_at":"2025-12-27T09:50:52.018908-03:00","close_reason":"Implemented collection routing with LLM-based selection","dependencies":[{"issue_id":"arcana-59u","depends_on_id":"arcana-aid","type":"blocks","created_at":"2025-12-27T09:35:43.616056-03:00","created_by":"daemon"}]}
{"id":"arcana-5g8","title":"Switch to UUIDv7 for better index performance","description":"Current UUIDv4 (random) causes B-tree index fragmentation. Switch to UUIDv7 (time-ordered) for sequential insert performance while keeping UUID benefits. Consider using the 'uniq' library for UUIDv7 generation. Also add UUID format validation in changesets before DB insertion.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-28T14:45:29.94516-03:00","updated_at":"2025-12-28T14:45:29.94516-03:00"}
{"id":"arcana-5kg","title":"GraphRAG (knowledge graph integration)","description":"Extract entities and relationships from documents to build a knowledge graph. Use graph traversal alongside vector search for richer context and multi-hop reasoning.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-26T09:11:39.041611-03:00","updated_at":"2025-12-26T09:11:39.041611-03:00"}
{"id":"arcana-5pa","title":"Citations and source references","description":"Return source references with answers. Track which chunks contributed to each part of the answer. Enable users to verify claims against original documents.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-26T09:11:38.810728-03:00","updated_at":"2025-12-26T09:11:38.810728-03:00"}
{"id":"arcana-61u","title":"Add TurboPuffer vector store backend","description":"Add TurboPuffer as a vector store backend option for Arcana.\n\nTurboPuffer is a hosted vector database with hybrid search (vector + full-text). This is needed for compatibility with systems like ngen.\n\nImplementation:\n1. Create Arcana.VectorStore.TurboPuffer implementing the VectorStore behaviour\n2. Support hybrid search (vector + optional full-text via query_text option)\n3. Handle namespace conventions (e.g., {resource}_{model}_{suffix})\n4. Support upsert, query, delete, delete_namespace operations\n\nConfiguration:\n  config :arcana, vector_store: {:turbo_puffer, api_key: \"...\", namespace: \"...\"}\n\nReference: ngen's implementation at ~/code/canopy/backend/ngen/lib/ngen/search/turbo_puffer.ex","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-28T09:40:30.025095-03:00","updated_at":"2025-12-28T09:40:30.025095-03:00"}
{"id":"arcana-6gx","title":"Query rewriting with LLM","description":"Use LLM to reformulate/expand user queries before retrieval. Improves recall by generating alternative phrasings, extracting keywords, or decomposing complex questions into sub-queries.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T00:07:06.430681-03:00","updated_at":"2025-12-26T08:53:54.37718-03:00","closed_at":"2025-12-26T08:53:54.37718-03:00","close_reason":"Implemented rewrite_query/2 and rewriter option in search/2 with graceful fallback on error","dependencies":[{"issue_id":"arcana-6gx","depends_on_id":"arcana-eec","type":"blocks","created_at":"2025-12-26T00:07:32.934078-03:00","created_by":"daemon"},{"issue_id":"arcana-6gx","depends_on_id":"arcana-6kd","type":"blocks","created_at":"2025-12-26T00:08:35.422774-03:00","created_by":"daemon"}]}
{"id":"arcana-6kd","title":"Hybrid search: vector + full-text with RRF","description":"Arcana.search/2 :mode option - :semantic (default), :fulltext, :hybrid. Hybrid combines pgvector cosine with tsvector using Reciprocal Rank Fusion.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-23T20:12:47.100519-03:00","updated_at":"2025-12-26T00:55:20.855392-03:00","closed_at":"2025-12-26T00:55:20.855392-03:00","close_reason":"Implemented hybrid search with :semantic, :fulltext, and :hybrid modes using RRF","dependencies":[{"issue_id":"arcana-6kd","depends_on_id":"arcana-dvb","type":"blocks","created_at":"2025-12-23T20:12:56.240803-03:00","created_by":"daemon"}]}
{"id":"arcana-6kn","title":"Rewriter helpers (expand, keywords, decompose)","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T09:02:05.385266-03:00","updated_at":"2025-12-26T09:06:40.066539-03:00","closed_at":"2025-12-26T09:06:40.066539-03:00","close_reason":"Added Arcana.Rewriters with expand/2, keywords/2, decompose/2 helpers"}
{"id":"arcana-78f","title":"Add Context Relevance metric for evaluation","description":"Add Context Relevance metric that measures how relevant the retrieved chunks are to answering the question. Uses LLM-as-judge to score whether the retrieved context contains the information needed. Helps identify when retrieval succeeds but with suboptimal context.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-28T13:30:26.664356-03:00","updated_at":"2025-12-28T13:30:26.664356-03:00"}
{"id":"arcana-7ep","title":"Slack connector","description":"OAuth integration with Slack. Index messages from channels, threads. Handle attachments. Real-time sync via Events API. Part of Arcana Server vision.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-26T00:38:25.404628-03:00","updated_at":"2025-12-26T00:38:25.404628-03:00","dependencies":[{"issue_id":"arcana-7ep","depends_on_id":"arcana-z5u","type":"blocks","created_at":"2025-12-26T00:38:32.40416-03:00","created_by":"daemon"}]}
{"id":"arcana-7gz","title":"Add NDCG metric for retrieval evaluation","description":"Add Normalized Discounted Cumulative Gain (NDCG) metric to evaluation. NDCG weights results by position - relevant results appearing earlier score higher. Useful when result ordering matters more than just presence in top-K.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-28T13:30:26.388927-03:00","updated_at":"2025-12-28T13:30:26.388927-03:00"}
{"id":"arcana-7io","title":"Add E5 embedding model prefix support","description":"E5 embedding models (like intfloat/multilingual-e5-large-instruct) require prefix-based encoding:\n- 'query: {text}' for search queries\n- 'passage: {text}' for documents being indexed\n\nThis is needed for compatibility with systems like ngen that use E5 models.\n\nImplementation:\n1. Detect E5 models in Arcana.Embedding.Local\n2. Add :prefix option to embed/2 (:query or :passage, default :passage)\n3. Automatically prepend the appropriate prefix before embedding\n\nExample usage:\n  Arcana.embed(text, prefix: :query)   # for search\n  Arcana.embed(text, prefix: :passage) # for ingestion","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-28T09:39:55.338739-03:00","updated_at":"2025-12-28T09:40:04.861319-03:00"}
{"id":"arcana-7zx","title":"ArcanaWeb.Router: mountable LiveView dashboard","description":"Optional Phoenix.Router that users forward to. LiveView pages for: browsing chunks, testing search, viewing stats. Similar to Oban Web dashboard pattern.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-23T20:12:46.738128-03:00","updated_at":"2025-12-23T22:23:20.221226-03:00","closed_at":"2025-12-23T22:23:20.221226-03:00","close_reason":"LiveView dashboard complete with Documents/Search tabs and purple theme","dependencies":[{"issue_id":"arcana-7zx","depends_on_id":"arcana-dvb","type":"blocks","created_at":"2025-12-23T20:12:56.074693-03:00","created_by":"daemon"}]}
{"id":"arcana-848","title":"Multi-tenancy: scoping chunks by source_id","description":"All operations accept :scope option to filter by source_id. Enables isolation between different document sets or users in host app.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-23T20:12:47.475986-03:00","updated_at":"2025-12-23T20:16:39.275273-03:00","dependencies":[{"issue_id":"arcana-848","depends_on_id":"arcana-7zx","type":"blocks","created_at":"2025-12-23T20:12:56.404028-03:00","created_by":"daemon"}]}
{"id":"arcana-8t4","title":"Multi-source agents (per source_id routing)","description":"Assign specialized agents per source_id or document type. A meta-agent routes queries to appropriate document agents. Enables sophisticated multi-source aggregation - the full 'Agentic RAG' pattern.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-26T00:07:07.080456-03:00","updated_at":"2025-12-26T00:07:24.929752-03:00","dependencies":[{"issue_id":"arcana-8t4","depends_on_id":"arcana-hms","type":"blocks","created_at":"2025-12-26T00:07:33.24759-03:00","created_by":"daemon"}]}
{"id":"arcana-a5w","title":"Memory layer (session/long-term context)","description":"Add short-term (session) and long-term (cross-session) memory. Short-term tracks conversation context, long-term stores user preferences and accumulated knowledge. Enables personalized retrieval.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-26T00:07:07.303366-03:00","updated_at":"2025-12-26T00:07:25.119094-03:00"}
{"id":"arcana-adk","title":"Changeset in Evaluation modules lacks validation","description":"run.ex:25-28 - The Run changeset has no validations (no validate_required on status). TestCase changeset only validates question. Add appropriate validations for required fields.","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-28T14:42:37.92598-03:00","updated_at":"2025-12-28T14:42:37.92598-03:00"}
{"id":"arcana-aid","title":"Agent pipeline with context struct","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T09:35:30.31295-03:00","updated_at":"2025-12-27T09:39:14.038393-03:00","closed_at":"2025-12-27T09:39:14.038393-03:00","close_reason":"Implemented Agent pipeline with Context, new/2, search/2, answer/1, and telemetry"}
{"id":"arcana-an1","title":"Relevance scoring (post-retrieval filtering)","description":"Score retrieved chunks for relevance after retrieval. Filter out low-confidence results before passing to LLM. Implements the 'Corrective RAG' pattern - if relevance is too low, can trigger query reformulation.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-26T00:07:06.637273-03:00","updated_at":"2025-12-26T00:07:24.576846-03:00","dependencies":[{"issue_id":"arcana-an1","depends_on_id":"arcana-eec","type":"blocks","created_at":"2025-12-26T00:07:33.01679-03:00","created_by":"daemon"},{"issue_id":"arcana-an1","depends_on_id":"arcana-6kd","type":"blocks","created_at":"2025-12-26T00:08:35.505586-03:00","created_by":"daemon"}]}
{"id":"arcana-b1c","title":"Self-correcting search","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T09:35:30.509427-03:00","updated_at":"2025-12-27T09:45:49.233995-03:00","closed_at":"2025-12-27T09:45:49.233995-03:00","close_reason":"Implemented self-correcting search with LLM evaluation, query rewriting, and retry loop","dependencies":[{"issue_id":"arcana-b1c","depends_on_id":"arcana-aid","type":"blocks","created_at":"2025-12-27T09:35:43.452436-03:00","created_by":"daemon"}]}
{"id":"arcana-b2o","title":"format_pct and format_score duplication","description":"dashboard_live.ex:1853-1859 and live/dashboard_components.ex both define format_pct/1 and format_score/1. Extract to a single shared module to avoid duplication.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-28T14:42:37.522198-03:00","updated_at":"2025-12-28T14:42:37.522198-03:00"}
{"id":"arcana-b4d","title":"SearchLive and EvaluationLive reference undefined helper functions","description":"search_live.ex, evaluation_live.ex - These LiveViews call get_repo_from_session/1, load_stats/1, load_collections/1, parse_int/2, parse_float/2, parse_mode/1 which are not defined. They import ArcanaWeb.DashboardComponents but need to share helpers from DashboardLive.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T14:42:36.953624-03:00","updated_at":"2026-01-01T16:01:44.179348-03:00","closed_at":"2026-01-01T16:01:44.179348-03:00","close_reason":"Not a bug - functions are defined in DashboardComponents and properly imported"}
{"id":"arcana-b8p","title":"HTTP API for search/ingest","description":"REST/GraphQL API exposing Arcana operations. Endpoints: POST /search, POST /ingest, DELETE /documents/:id, GET /sources. JSON responses. API key auth. Foundation for multi-language clients and Arcana Server.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-26T00:38:24.8326-03:00","updated_at":"2025-12-26T00:38:24.8326-03:00"}
{"id":"arcana-d3p","title":"Semantic chunking (embedding-based)","description":"Add embedding-based semantic chunking strategy:\n1. Split text into sentences\n2. Embed each sentence\n3. Compare adjacent embeddings with cosine similarity\n4. Split where similarity drops below threshold\n\nUseful for long docs where topics aren't separated by clear formatting (legal docs, transcripts, prose).\n\nOption: Arcana.ingest(text, repo: Repo, strategy: :semantic, similarity_threshold: 0.5)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-26T01:39:09.630536-03:00","updated_at":"2025-12-26T01:39:09.630536-03:00","dependencies":[{"issue_id":"arcana-d3p","depends_on_id":"arcana-eh9","type":"blocks","created_at":"2025-12-26T01:39:18.872358-03:00","created_by":"daemon"}]}
{"id":"arcana-dc4","title":"Cross-encoder reranking","description":"Rerank search results using a cross-encoder model for higher precision. Score query-document pairs together rather than independently.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T09:11:38.363098-03:00","updated_at":"2025-12-28T08:27:40.116641-03:00","closed_at":"2025-12-28T08:27:40.116641-03:00","close_reason":"Implemented Arcana.Reranker behaviour and Agent.rerank/2 - supports LLM reranking and custom cross-encoder modules"}
{"id":"arcana-dgz","title":"Add format option for document ingestion in dashboard","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T07:57:41.553858-03:00","updated_at":"2025-12-26T08:05:13.523188-03:00","closed_at":"2025-12-26T08:05:13.523188-03:00","close_reason":"Added format selector (plaintext/markdown/elixir) to ingest form"}
{"id":"arcana-doa","title":"Potential SQL injection via tsquery in fulltext search","description":"pgvector.ex:182-186 - to_tsquery/1 performs simple string splitting without sanitizing tsquery special characters (\u0026|!():*). Could cause query errors or unexpected behavior. Sanitize by escaping or removing operators.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-28T14:42:35.200664-03:00","updated_at":"2026-01-01T15:57:36.465848-03:00","closed_at":"2026-01-01T15:57:36.465848-03:00","close_reason":"Closed"}
{"id":"arcana-dvb","title":"Public API: Arcana.ingest/2, search/2, delete/1","description":"Main public interface. ingest(text, opts) chunks and stores with embeddings. search(query, opts) embeds query and finds similar chunks. delete(ids) removes chunks. All use configured repo.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T20:12:19.311106-03:00","updated_at":"2025-12-23T21:39:38.036726-03:00","closed_at":"2025-12-23T21:39:38.036726-03:00","close_reason":"Implemented ingest/2, search/2, delete/2 with 28 passing tests","dependencies":[{"issue_id":"arcana-dvb","depends_on_id":"arcana-ypf","type":"blocks","created_at":"2025-12-23T20:12:30.190796-03:00","created_by":"daemon"},{"issue_id":"arcana-dvb","depends_on_id":"arcana-fr1","type":"blocks","created_at":"2025-12-23T20:12:30.270961-03:00","created_by":"daemon"},{"issue_id":"arcana-dvb","depends_on_id":"arcana-n90","type":"blocks","created_at":"2025-12-23T20:12:30.349704-03:00","created_by":"daemon"}]}
{"id":"arcana-dx3","title":"PDF/Document parsing (PDF, Word, Excel)","description":"Parse PDF, Word, Excel files with layout understanding. Extract text, tables, images. Use libraries like pdf_text or integrate with external parsers.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T09:11:38.133275-03:00","updated_at":"2025-12-26T17:45:36.056593-03:00","closed_at":"2025-12-26T17:45:36.056593-03:00","close_reason":"Implemented Parser module with PDF support and ingest_file/2 function"}
{"id":"arcana-e69","title":"Analytics and observability","description":"Track search queries, retrieval quality, LLM usage, latency. Dashboard for monitoring RAG pipeline health. Export metrics for external observability tools.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T09:11:39.272259-03:00","updated_at":"2025-12-27T08:33:58.781939-03:00","closed_at":"2025-12-27T08:33:58.781939-03:00","close_reason":"Implemented telemetry events for ingest, search, ask, and embed operations"}
{"id":"arcana-eec","title":"Hybrid search (vector + BM25 with RRF)","description":"Combine vector similarity search with BM25 keyword search using Reciprocal Rank Fusion (RRF). This is the foundation for more advanced RAG patterns. PostgreSQL supports full-text search natively which can be combined with pgvector.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T00:07:06.245037-03:00","updated_at":"2025-12-26T00:08:35.244608-03:00","closed_at":"2025-12-26T00:08:35.244608-03:00","close_reason":"Duplicate of arcana-6kd"}
{"id":"arcana-eh9","title":"Use tokens instead of characters for chunk size","description":"Arcana currently uses characters (1024) but should use tokens (~512). The bge-small-en-v1.5 model has 512 token max input.\n\nChange chunk_size default from 1024 chars to 512 tokens. Add proper tokenization using the embedding model's tokenizer.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T01:39:09.965757-03:00","updated_at":"2025-12-26T01:49:42.956369-03:00","closed_at":"2025-12-26T01:49:42.956369-03:00","close_reason":"Implemented with text_chunker library, supports format and size_unit options"}
{"id":"arcana-fr1","title":"Embedding module with Bumblebee serving","description":"Arcana.Embeddings.Serving as Nx.Serving for bge-small-en-v1.5. Started by Arcana supervisor. Provides embed/1 and embed_batch/1 functions. 384-dimension vectors.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T20:12:18.924026-03:00","updated_at":"2025-12-23T21:24:24.973265-03:00","closed_at":"2025-12-23T21:24:24.973265-03:00","close_reason":"Completed in setup: Arcana.Embeddings.Serving with bge-small-en-v1.5","dependencies":[{"issue_id":"arcana-fr1","depends_on_id":"arcana-mum","type":"blocks","created_at":"2025-12-23T20:12:30.029474-03:00","created_by":"daemon"}]}
{"id":"arcana-hi9","title":"Retrieval evaluation with synthetic test generation","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T11:08:55.589092-03:00","updated_at":"2025-12-26T11:24:45.458228-03:00","closed_at":"2025-12-26T11:24:45.458228-03:00","close_reason":"Implemented retrieval evaluation system with test case generation, metrics, Mix tasks, and dashboard UI"}
{"id":"arcana-hms","title":"Adaptive routing (complexity-based strategy)","description":"Classify query complexity and dynamically select retrieval strategy. Simple queries use single-pass search, complex queries use multi-hop retrieval with iterative refinement. Part of 'Adaptive RAG' pattern.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-26T00:07:06.858046-03:00","updated_at":"2025-12-26T00:07:24.751773-03:00","dependencies":[{"issue_id":"arcana-hms","depends_on_id":"arcana-6gx","type":"blocks","created_at":"2025-12-26T00:07:33.093451-03:00","created_by":"daemon"},{"issue_id":"arcana-hms","depends_on_id":"arcana-an1","type":"blocks","created_at":"2025-12-26T00:07:33.170603-03:00","created_by":"daemon"}]}
{"id":"arcana-ji8","title":"Dashboard: CRUD for collections and documents","description":"Add CRUD operations to the Arcana dashboard for managing collections and documents. This includes:\n- Create/edit/delete collections with name and description\n- View/edit/delete documents within collections\n- Bulk operations for document management","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-27T23:24:39.399521-03:00","updated_at":"2025-12-27T23:40:35.362235-03:00","closed_at":"2025-12-27T23:40:35.362235-03:00","close_reason":"Added Collections tab with full CRUD. Document editing deferred."}
{"id":"arcana-lb1","title":"Google Drive connector","description":"OAuth integration with Google Drive. Sync documents, sheets, slides. Watch for changes via webhooks or polling. Part of Arcana Server vision.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-26T00:38:25.025079-03:00","updated_at":"2025-12-26T00:38:25.025079-03:00","dependencies":[{"issue_id":"arcana-lb1","depends_on_id":"arcana-z5u","type":"blocks","created_at":"2025-12-26T00:38:32.250944-03:00","created_by":"daemon"}]}
{"id":"arcana-m3d","title":"Add Answer Relevance metric for evaluation","description":"Add Answer Relevance metric that measures whether the generated answer actually addresses the question asked. Uses LLM-as-judge to score 0-10 how well the answer responds to the query intent. Complements Faithfulness which only measures grounding.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-28T13:30:26.526248-03:00","updated_at":"2025-12-28T13:30:26.526248-03:00"}
{"id":"arcana-mum","title":"Library setup: mix.exs, deps, Arcana supervisor","description":"Set up as embeddable library. Deps: ecto_sql, pgvector, bumblebee, nx, exla. Create Arcana module as supervisor entry point that starts embedding server. Config for repo and embedding model.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T20:12:18.568127-03:00","updated_at":"2025-12-23T21:23:59.096003-03:00","closed_at":"2025-12-23T21:23:59.096003-03:00","close_reason":"Completed: Docker Compose, deps, Ecto test repo, Chunker with TDD, Embeddings.Serving with Bumblebee"}
{"id":"arcana-n90","title":"Chunker module: recursive splitting with overlap","description":"Arcana.Chunker.chunk/2 - recursive character splitting. Default 1024 chunk size, 200 overlap. Separators: paragraphs, newlines, sentences, words. Returns list of %{text, index, token_count}.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T20:12:19.102545-03:00","updated_at":"2025-12-23T21:24:25.054823-03:00","closed_at":"2025-12-23T21:24:25.054823-03:00","close_reason":"Completed in setup: Arcana.Chunker with recursive splitting","dependencies":[{"issue_id":"arcana-n90","depends_on_id":"arcana-mum","type":"blocks","created_at":"2025-12-23T20:12:30.109622-03:00","created_by":"daemon"}]}
{"id":"arcana-ney","title":"Single-query hybrid search for pgvector","description":"## Problem\n\nCurrent hybrid search runs two separate queries (semantic + fulltext) and combines results with RRF (Reciprocal Rank Fusion). This can miss items that would rank high with combined scoring but don't make it into either individual top-N list.\n\nEdge case example:\n- An item ranks #15 in both semantic and fulltext (misses `limit * 2` cutoff)\n- But combined, it might outrank items that only appeared in one list\n\n## Proposed Solution\n\nAdd a pgvector-native hybrid search option that uses a single query:\n\n```sql\nSELECT *,\n  (weight_semantic * (1 - (embedding \u003c=\u003e query_embedding)) + \n   weight_fulltext * ts_rank(search_vector, query)) as hybrid_score\nFROM chunks\nORDER BY hybrid_score DESC\n```\n\n## Considerations\n\n- Requires normalizing different score scales (cosine similarity vs ts_rank)\n- Need to tune weights (e.g., 0.7/0.3)\n- Only works with pgvector backend (in-memory HNSWLib doesn't have fulltext)\n- Could be an option: `mode: :hybrid_native` vs `mode: :hybrid` (RRF)\n\n## Context\n\nRaised in ElixirForum announcement thread.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T07:54:55.118689-03:00","updated_at":"2026-01-01T12:25:38.49985-03:00","closed_at":"2026-01-01T12:25:38.49985-03:00","close_reason":"Closed"}
{"id":"arcana-oev","title":"Add collection filter when generating Evaluation test cases","description":"When generating test cases for Evaluation, allow users to specify which collection(s) to generate from.\n\nThis should be available in both:\n1. The API (Arcana.Evaluation.generate_test_cases/2 options)\n2. The Dashboard UI (Evaluation tab)\n\nCurrently test case generation may use all documents, but users often want to generate test cases from specific collections only.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T09:49:49.619484-03:00","updated_at":"2025-12-28T10:02:00.785977-03:00","closed_at":"2025-12-28T10:02:00.785977-03:00","close_reason":"Implemented collection filter for evaluation test case generation in API, UI, and mix task"}
{"id":"arcana-onn","title":"Add golden dataset management for evaluation","description":"Add ability to import/export evaluation test cases as golden datasets. Support JSON format for sharing test cases across environments. Include versioning to track dataset evolution over time.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-28T13:30:26.805045-03:00","updated_at":"2025-12-28T13:30:26.805045-03:00"}
{"id":"arcana-plm","title":"Code Review tasks","description":"Parent issue grouping code review findings from comprehensive Arcana codebase review.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:55.240695-03:00","updated_at":"2025-12-28T14:43:55.240695-03:00","dependencies":[{"issue_id":"arcana-plm","depends_on_id":"arcana-doa","type":"blocks","created_at":"2025-12-28T14:44:06.628461-03:00","created_by":"daemon"},{"issue_id":"arcana-plm","depends_on_id":"arcana-0dj","type":"blocks","created_at":"2025-12-28T14:44:06.69048-03:00","created_by":"daemon"},{"issue_id":"arcana-plm","depends_on_id":"arcana-3az","type":"blocks","created_at":"2025-12-28T14:44:06.762135-03:00","created_by":"daemon"},{"issue_id":"arcana-plm","depends_on_id":"arcana-zow","type":"blocks","created_at":"2025-12-28T14:44:06.805083-03:00","created_by":"daemon"},{"issue_id":"arcana-plm","depends_on_id":"arcana-b4d","type":"blocks","created_at":"2025-12-28T14:44:06.850626-03:00","created_by":"daemon"},{"issue_id":"arcana-plm","depends_on_id":"arcana-t7i","type":"blocks","created_at":"2025-12-28T14:44:06.904272-03:00","created_by":"daemon"},{"issue_id":"arcana-plm","depends_on_id":"arcana-b2o","type":"blocks","created_at":"2025-12-28T14:44:06.960053-03:00","created_by":"daemon"},{"issue_id":"arcana-plm","depends_on_id":"arcana-adk","type":"blocks","created_at":"2025-12-28T14:44:07.006333-03:00","created_by":"daemon"},{"issue_id":"arcana-plm","depends_on_id":"arcana-5g8","type":"blocks","created_at":"2025-12-28T14:45:36.583242-03:00","created_by":"daemon"}]}
{"id":"arcana-rvq","title":"Add document detail view with full content and chunks","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T08:23:34.309846-03:00","updated_at":"2025-12-26T08:34:49.631683-03:00","closed_at":"2025-12-26T08:34:49.631683-03:00","close_reason":"Added document detail view showing full content, metadata, and all chunks"}
{"id":"arcana-t7i","title":"Chunk changeset allows nil ID override","description":"chunk.ex:27-35 - The changeset casts id field but doesn't validate UUID format. In Pgvector.store/5 (line 55-65), if invalid UUID is passed, fails at database insertion with cryptic error. Validate UUID format in changeset.","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-28T14:42:36.486643-03:00","updated_at":"2025-12-28T14:42:36.486643-03:00"}
{"id":"arcana-tbk","title":"Write README with usage examples","description":"Document library usage: installation, configuration, supervision tree setup, API examples (ingest/search/delete). Include Docker Compose setup for development.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T20:24:34.809995-03:00","updated_at":"2025-12-23T21:44:50.543447-03:00","closed_at":"2025-12-23T21:44:50.543447-03:00","close_reason":"Comprehensive README with installation, usage examples, and architecture diagram","dependencies":[{"issue_id":"arcana-tbk","depends_on_id":"arcana-dvb","type":"blocks","created_at":"2025-12-23T20:24:52.141412-03:00","created_by":"daemon"}]}
{"id":"arcana-xk5","title":"HyDE (Hypothetical Document Embeddings)","description":"Generate hypothetical answer using LLM, then embed that to search. Improves retrieval for abstract/conceptual queries where the query doesn't match document vocabulary.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-26T09:11:38.59041-03:00","updated_at":"2025-12-26T09:11:38.59041-03:00"}
{"id":"arcana-xv5","title":"Document ingestion: files, parsing, async processing","description":"Arcana.ingest_file/2 for PDF/DOCX/TXT. Parser module with pdftotext/pandoc. Optional Oban integration for async. Store file metadata alongside chunks.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-23T20:12:46.92273-03:00","updated_at":"2025-12-27T08:04:33.584972-03:00","closed_at":"2025-12-27T08:04:33.584972-03:00","close_reason":"Implemented file ingestion with Parser module supporting .txt, .md, .pdf formats. PDF support is optional (requires poppler). Async processing via Oban not yet implemented.","dependencies":[{"issue_id":"arcana-xv5","depends_on_id":"arcana-dvb","type":"blocks","created_at":"2025-12-23T20:12:56.155254-03:00","created_by":"daemon"},{"issue_id":"arcana-xv5","depends_on_id":"arcana-dx3","type":"blocks","created_at":"2025-12-26T09:11:49.12207-03:00","created_by":"daemon"}]}
{"id":"arcana-y99","title":"Fix flaky telemetry test concurrency issue","description":"The telemetry test passes in isolation but fails intermittently when run with the full test suite. This is a timing/concurrency issue that needs investigation.","status":"closed","priority":4,"issue_type":"bug","created_at":"2025-12-27T23:24:51.119257-03:00","updated_at":"2025-12-27T23:41:59.648827-03:00","closed_at":"2025-12-27T23:41:59.648827-03:00","close_reason":"Set async: false - telemetry events are global"}
{"id":"arcana-ypf","title":"Chunks schema and mix arcana.install task","description":"Chunk schema with text, embedding (pgvector), metadata, source_id. Create mix task that generates migration for host app to run. Migration enables pgvector extension and creates arcana_chunks table with HNSW index.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T20:12:18.745956-03:00","updated_at":"2025-12-23T21:36:14.038879-03:00","closed_at":"2025-12-23T21:36:14.038879-03:00","close_reason":"Document and Chunk schemas, mix arcana.install task, pgvector types configured","dependencies":[{"issue_id":"arcana-ypf","depends_on_id":"arcana-mum","type":"blocks","created_at":"2025-12-23T20:12:29.94582-03:00","created_by":"daemon"}]}
{"id":"arcana-z5u","title":"Arcana Server: RAG-as-a-Service platform","description":"Grand vision: standalone HTTP server that acts as centralized RAG service for a company. Includes connectors (Google Drive, Notion, Slack, Confluence, GitHub), HTTP API for multi-language clients, OAuth for source auth, workspace/team permissions. Think self-hosted Glean/Danswer in Elixir. Built on top of arcana core library.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-26T00:38:13.686206-03:00","updated_at":"2025-12-26T00:38:13.686206-03:00","dependencies":[{"issue_id":"arcana-z5u","depends_on_id":"arcana-b8p","type":"blocks","created_at":"2025-12-26T00:38:32.091913-03:00","created_by":"daemon"},{"issue_id":"arcana-z5u","depends_on_id":"arcana-6kd","type":"blocks","created_at":"2025-12-26T00:38:32.173794-03:00","created_by":"daemon"}]}
{"id":"arcana-zow","title":"Inconsistent error handling patterns across API","description":"arcana.ex - Public API has inconsistent error handling: ingest/2 can crash on embedding failure, search/2 returns empty list, ask/2 returns {:error, tuple}, delete/2 returns {:error, tuple}. Ensure all public API functions return {:ok, result} | {:error, reason} tuples consistently.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T14:42:36.013882-03:00","updated_at":"2026-01-01T16:26:37.869761-03:00","closed_at":"2026-01-01T16:26:37.869761-03:00","close_reason":"Closed"}
